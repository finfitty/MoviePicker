<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MoviePicker</title>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <script>
        tailwind.config = { corePlugins: { preflight: true } }
    </script>
    <style>
        * { font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif; }
        
        @keyframes fadeInOut {
            0% { opacity: 0; transform: translateY(10px); }
            15% { opacity: 1; transform: translateY(0); }
            85% { opacity: 1; transform: translateY(0); }
            100% { opacity: 0; transform: translateY(10px); }
        }
        .loading-text-animated { animation: fadeInOut 2s ease-in-out; }
        
        @keyframes cardShuffle {
            0%, 100% { transform: translateX(0) rotate(0deg); opacity: 1; }
            50% { transform: translateX(20px) rotate(2deg); opacity: 0.7; }
        }
        .card-shuffle-1 { animation: cardShuffle 1.5s ease-in-out infinite; }
        .card-shuffle-2 { animation: cardShuffle 1.5s ease-in-out infinite; animation-delay: 0.2s; }
        .card-shuffle-3 { animation: cardShuffle 1.5s ease-in-out infinite; animation-delay: 0.4s; }
        
        @keyframes shimmer {
            0% { background-position: -200% 0; }
            100% { background-position: 200% 0; }
        }
        .skeleton {
            background: linear-gradient(90deg, #27272a 25%, #3f3f46 50%, #27272a 75%);
            background-size: 200% 100%;
            animation: shimmer 1.5s infinite;
        }
    </style>
</head>
<body class="bg-zinc-950">
    <div id="root"></div>
    <script type="text/babel">
        const { useState, useEffect, useRef, useCallback } = React;
        const TOKEN = 'eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiI4NDZkYmQ3NzY5MmE3MDY3NGNlMTBhMWM2YjRkNjY2YyIsIm5iZiI6MTc2MzQyMzc5MS4wMDg5OTk4LCJzdWIiOiI2OTFiYjYyZmMzMjkxYzk2ODdjN2QyYTQiLCJzY29wZXMiOlsiYXBpX3JlYWQiXSwidmVyc2lvbiI6MX0.yceVQdz0-IeMdfCDLlmerZZZ9X95mX_5MUEuTHEKnXM';
        
        const Film = ({className}) => <svg className={className} width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><rect x="2" y="2" width="20" height="20" rx="2"/><path d="M7 2v20M17 2v20M2 12h20"/></svg>;
        const X = ({className}) => <svg className={className} width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/></svg>;
        const Play = ({className}) => <svg className={className} width="24" height="24" viewBox="0 0 24 24" fill="currentColor"><polygon points="5 3 19 12 5 21 5 3"/></svg>;
        const Clock = ({className}) => <svg className={className} width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>;
        const ChevronLeft = ({className}) => <svg className={className} width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><polyline points="15 18 9 12 15 6"/></svg>;
        const ChevronRight = ({className}) => <svg className={className} width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><polyline points="9 6 15 12 9 18"/></svg>;
        const RefreshCw = ({className}) => <svg className={className} width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><polyline points="23 4 23 10 17 10"/><path d="M20.49 15a9 9 0 1 1-2.12-9.36L23 10"/></svg>;
        const Eye = ({className}) => <svg className={className} width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/><circle cx="12" cy="12" r="3"/></svg>;
        const Check = ({className}) => <svg className={className} width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><polyline points="20 6 9 17 4 12"/></svg>;
        const Star = ({className}) => <svg className={className} width="24" height="24" viewBox="0 0 24 24" fill="currentColor"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg>;
        const Menu = ({className}) => <svg className={className} width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><line x1="3" y1="12" x2="21" y2="12"/><line x1="3" y1="6" x2="21" y2="6"/><line x1="3" y1="18" x2="21" y2="18"/></svg>;

        const bestPictureWinners = ["Wings","The Broadway Melody","All Quiet on the Western Front","Cimarron","Grand Hotel","Cavalcade","It Happened One Night","Mutiny on the Bounty","The Great Ziegfeld","The Life of Emile Zola","You Can't Take It with You","Gone with the Wind","Rebecca","How Green Was My Valley","Mrs. Miniver","Casablanca","Going My Way","The Lost Weekend","The Best Years of Our Lives","Gentleman's Agreement","Hamlet","All the King's Men","All About Eve","An American in Paris","The Greatest Show on Earth","From Here to Eternity","On the Waterfront","Marty","Around the World in 80 Days","The Bridge on the River Kwai","Gigi","Ben-Hur","The Apartment","West Side Story","Lawrence of Arabia","Tom Jones","My Fair Lady","The Sound of Music","A Man for All Seasons","In the Heat of the Night","Oliver!","Midnight Cowboy","Patton","The French Connection","The Godfather","The Sting","The Godfather Part II","One Flew Over the Cuckoo's Nest","Rocky","Annie Hall","The Deer Hunter","Kramer vs. Kramer","Ordinary People","Chariots of Fire","Gandhi","Terms of Endearment","Amadeus","Out of Africa","Platoon","The Last Emperor","Rain Man","Driving Miss Daisy","Dances with Wolves","The Silence of the Lambs","Unforgiven","Schindler's List","Forrest Gump","Braveheart","The English Patient","Titanic","Shakespeare in Love","American Beauty","Gladiator","A Beautiful Mind","Chicago","The Lord of the Rings: The Return of the King","Million Dollar Baby","Crash","The Departed","No Country for Old Men","Slumdog Millionaire","The Hurt Locker","The King's Speech","The Artist","Argo","12 Years a Slave","Birdman","Spotlight","Moonlight","The Shape of Water","Green Book","Parasite","Nomadland","CODA","Everything Everywhere All at Once","Oppenheimer"];
        const bestPictureNominees = ["Born Yesterday","Father of the Bride","King Solomon's Mines","Sunset Boulevard","Decision Before Dawn","A Place in the Sun","Quo Vadis","A Streetcar Named Desire","High Noon","Ivanhoe","Moulin Rouge","The Quiet Man","Julius Caesar","The Robe","Roman Holiday","Shane","The Caine Mutiny","The Country Girl","Seven Brides for Seven Brothers","Three Coins in the Fountain","Love Is a Many-Splendored Thing","Mister Roberts","Picnic","The Rose Tattoo","Friendly Persuasion","Giant","The King and I","The Ten Commandments","Peyton Place","Sayonara","Twelve Angry Men","Witness for the Prosecution","Auntie Mame","Cat on a Hot Tin Roof","The Defiant Ones","Separate Tables","Anatomy of a Murder","The Diary of Anne Frank","The Nun's Story","Room at the Top","The Alamo","Elmer Gantry","Sons and Lovers","The Sundowners","Fanny","The Guns of Navarone","The Hustler","Judgment at Nuremberg","The Longest Day","The Music Man","To Kill a Mockingbird","America, America","Cleopatra","How the West Was Won","Lilies of the Field","Becket","Dr. Strangelove","Mary Poppins","Zorba the Greek","Darling","Doctor Zhivago","Ship of Fools","A Thousand Clowns","Alfie","The Russians Are Coming, the Russians Are Coming","The Sand Pebbles","Who's Afraid of Virginia Woolf?","Bonnie and Clyde","Doctor Dolittle","The Graduate","Guess Who's Coming to Dinner","Funny Girl","The Lion in Winter","Rachel, Rachel","Romeo and Juliet","Anne of the Thousand Days","Butch Cassidy and the Sundance Kid","Hello, Dolly!","Z","Airport","Five Easy Pieces","Love Story","MASH","A Clockwork Orange","Fiddler on the Roof","The Last Picture Show","Nicholas and Alexandra","Cabaret","Deliverance","The Emigrants","Sounder","American Graffiti","Cries and Whispers","The Exorcist","A Touch of Class","Chinatown","The Conversation","Lenny","The Towering Inferno","Barry Lyndon","Dog Day Afternoon","Jaws","Nashville","All the President's Men","Bound for Glory","Network","Taxi Driver","The Goodbye Girl","Julia","Star Wars","The Turning Point","Coming Home","Heaven Can Wait","Midnight Express","An Unmarried Woman","All That Jazz","Apocalypse Now","Breaking Away","Norma Rae","Coal Miner's Daughter","The Elephant Man","Raging Bull","Tess","Atlantic City","On Golden Pond","Raiders of the Lost Ark","Reds","E.T. the Extra-Terrestrial","Missing","Tootsie","The Verdict","The Big Chill","The Dresser","The Right Stuff","Tender Mercies","The Killing Fields","A Passage to India","Places in the Heart","A Soldier's Story","The Color Purple","Kiss of the Spider Woman","Prizzi's Honor","Witness","Children of a Lesser God","Hannah and Her Sisters","The Mission","A Room with a View","Broadcast News","Fatal Attraction","Hope and Glory","Moonstruck","The Accidental Tourist","Dangerous Liaisons","Mississippi Burning","Working Girl","Born on the Fourth of July","Dead Poets Society","Field of Dreams","My Left Foot","Awakenings","Ghost","The Godfather Part III","Goodfellas","Bugsy","JFK","The Prince of Tides","Beauty and the Beast","The Crying Game","A Few Good Men","Howards End","Scent of a Woman","The Fugitive","In the Name of the Father","The Piano","The Remains of the Day","Four Weddings and a Funeral","Pulp Fiction","Quiz Show","The Shawshank Redemption","Apollo 13","Babe","Il Postino","Sense and Sensibility","Fargo","Jerry Maguire","Secrets & Lies","Shine","As Good as It Gets","The Full Monty","Good Will Hunting","L.A. Confidential","Elizabeth","Life Is Beautiful","Saving Private Ryan","The Thin Red Line","The Cider House Rules","The Green Mile","The Insider","The Sixth Sense","Chocolat","Crouching Tiger, Hidden Dragon","Erin Brockovich","Traffic","Gosford Park","In the Bedroom","The Lord of the Rings: The Fellowship of the Ring","Moulin Rouge!","Gangs of New York","The Hours","The Lord of the Rings: The Two Towers","The Pianist","Lost in Translation","Master and Commander: The Far Side of the World","Mystic River","Seabiscuit","The Aviator","Finding Neverland","Ray","Sideways","Brokeback Mountain","Capote","Good Night, and Good Luck","Munich","Babel","Letters from Iwo Jima","Little Miss Sunshine","The Queen","Atonement","Juno","Michael Clayton","There Will Be Blood","The Curious Case of Benjamin Button","Frost/Nixon","Milk","The Reader","Avatar","The Blind Side","District 9","An Education","Inglourious Basterds","Precious","A Serious Man","Up","Up in the Air","Black Swan","The Fighter","Inception","The Kids Are All Right","127 Hours","The Social Network","Toy Story 3","True Grit","Winter's Bone","The Descendants","Extremely Loud & Incredibly Close","The Help","Hugo","Midnight in Paris","Moneyball","The Tree of Life","War Horse","Amour","Beasts of the Southern Wild","Django Unchained","Les Misérables","Life of Pi","Lincoln","Silver Linings Playbook","Zero Dark Thirty","American Hustle","Captain Phillips","Dallas Buyers Club","Gravity","Her","Nebraska","Philomena","The Wolf of Wall Street","American Sniper","Boyhood","The Grand Budapest Hotel","The Imitation Game","Selma","The Theory of Everything","Whiplash","The Big Short","Bridge of Spies","Brooklyn","Mad Max: Fury Road","The Martian","The Revenant","Room","Arrival","Fences","Hacksaw Ridge","Hell or High Water","Hidden Figures","La La Land","Lion","Manchester by the Sea","Call Me by Your Name","Darkest Hour","Dunkirk","Get Out","Lady Bird","Phantom Thread","The Post","Three Billboards Outside Ebbing, Missouri","Black Panther","BlacKkKlansman","Bohemian Rhapsody","The Favourite","Roma","A Star Is Born","Vice","Ford v Ferrari","The Irishman","Jojo Rabbit","Joker","Little Women","Marriage Story","1917","Once Upon a Time in Hollywood","The Father","Judas and the Black Messiah","Mank","Minari","Promising Young Woman","Sound of Metal","The Trial of the Chicago 7","Belfast","Don't Look Up","Drive My Car","Dune","King Richard","Licorice Pizza","Nightmare Alley","The Power of the Dog","West Side Story","All Quiet on the Western Front","Avatar: The Way of Water","The Banshees of Inisherin","Elvis","The Fabelmans","Tár","Top Gun: Maverick","Triangle of Sadness","Women Talking","American Fiction","Anatomy of a Fall","Barbie","The Holdovers","Killers of the Flower Moon","Maestro","Past Lives","Poor Things","The Zone of Interest"];
        const bestDirector = ["Patton","The French Connection","Cabaret","The Sting","The Godfather Part II","One Flew Over the Cuckoo's Nest","Rocky","Annie Hall","The Deer Hunter","Kramer vs. Kramer","Ordinary People","Reds","Gandhi","Terms of Endearment","Amadeus","Out of Africa","Platoon","The Last Emperor","Rain Man","Born on the Fourth of July","Dances with Wolves","The Silence of the Lambs","Unforgiven","Schindler's List","Forrest Gump","Braveheart","The English Patient","Titanic","Saving Private Ryan","American Beauty","Traffic","A Beautiful Mind","The Pianist","The Lord of the Rings: The Return of the King","Million Dollar Baby","Brokeback Mountain","The Departed","No Country for Old Men","Slumdog Millionaire","The Hurt Locker","The King's Speech","The Artist","Life of Pi","Gravity","Birdman","The Revenant","La La Land","The Shape of Water","Roma","Parasite","Nomadland","The Power of the Dog","Everything Everywhere All at Once","Oppenheimer"];
        const bestActor = ["Patton","The French Connection","The Godfather","Save the Tiger","Harry and Tonto","One Flew Over the Cuckoo's Nest","Network","The Goodbye Girl","Coming Home","Kramer vs. Kramer","Raging Bull","On Golden Pond","Gandhi","Tender Mercies","Amadeus","Kiss of the Spider Woman","The Color of Money","Wall Street","Rain Man","My Left Foot","Reversal of Fortune","The Silence of the Lambs","Scent of a Woman","Philadelphia","Forrest Gump","Leaving Las Vegas","Shine","As Good as It Gets","Life Is Beautiful","American Beauty","Gladiator","Training Day","The Pianist","Mystic River","Ray","Capote","The Last King of Scotland","There Will Be Blood","Milk","Crazy Heart","The King's Speech","The Artist","Lincoln","Dallas Buyers Club","The Theory of Everything","The Revenant","Manchester by the Sea","Darkest Hour","Bohemian Rhapsody","Joker","The Father","King Richard","The Whale","Oppenheimer"];
        const bestActress = ["Women in Love","Klute","Cabaret","A Touch of Class","Alice Doesn't Live Here Anymore","One Flew Over the Cuckoo's Nest","Network","Annie Hall","Coming Home","Norma Rae","Coal Miner's Daughter","On Golden Pond","Sophie's Choice","Terms of Endearment","Places in the Heart","The Trip to Bountiful","Children of a Lesser God","Moonstruck","The Accused","Driving Miss Daisy","Misery","The Silence of the Lambs","Howards End","The Piano","Blue Sky","Dead Man Walking","Fargo","As Good as It Gets","Shakespeare in Love","Boys Don't Cry","Erin Brockovich","Monster's Ball","The Hours","Monster","Million Dollar Baby","Walk the Line","The Queen","La Vie en Rose","The Reader","The Blind Side","Black Swan","The Iron Lady","Silver Linings Playbook","Blue Jasmine","Still Alice","Room","La La Land","Three Billboards Outside Ebbing, Missouri","The Favourite","Judy","Nomadland","The Eyes of Tammy Faye","Everything Everywhere All at Once","Poor Things"];
        const bestOriginalScreenplay = ["Patton","The Hospital","The Candidate","The Sting","Chinatown","Dog Day Afternoon","Network","Annie Hall","Coming Home","Breaking Away","Melvin and Howard","Chariots of Fire","Gandhi","Tender Mercies","Places in the Heart","Witness","Hannah and Her Sisters","Moonstruck","Rain Man","Dead Poets Society","Ghost","Thelma & Louise","The Crying Game","The Piano","Pulp Fiction","The Usual Suspects","Fargo","Good Will Hunting","Shakespeare in Love","American Beauty","Almost Famous","Gosford Park","Talk to Her","Lost in Translation","Eternal Sunshine of the Spotless Mind","Crash","Little Miss Sunshine","Juno","Milk","The Hurt Locker","The King's Speech","Midnight in Paris","Django Unchained","Her","Birdman","Spotlight","Manchester by the Sea","Get Out","Green Book","Parasite","Promising Young Woman","Belfast","Everything Everywhere All at Once","Anatomy of a Fall"];
        const bestAdaptedScreenplay = ["MASH","The French Connection","The Godfather","The Exorcist","The Godfather Part II","One Flew Over the Cuckoo's Nest","All the President's Men","Julia","Midnight Express","Kramer vs. Kramer","Ordinary People","On Golden Pond","Missing","Terms of Endearment","Amadeus","Out of Africa","A Room with a View","The Last Emperor","Dangerous Liaisons","Driving Miss Daisy","Dances with Wolves","The Silence of the Lambs","Howards End","Schindler's List","Forrest Gump","Sense and Sensibility","Sling Blade","L.A. Confidential","Gods and Monsters","The Cider House Rules","Traffic","A Beautiful Mind","The Pianist","The Lord of the Rings: The Return of the King","Sideways","Brokeback Mountain","The Departed","No Country for Old Men","Slumdog Millionaire","Precious","The Social Network","The Descendants","Argo","12 Years a Slave","The Imitation Game","The Big Short","Moonlight","Call Me by Your Name","BlacKkKlansman","Jojo Rabbit","The Father","CODA","Women Talking","American Fiction"];
        const bestCinematography = ["Ryan's Daughter","Fiddler on the Roof","Cabaret","Cries and Whispers","The Towering Inferno","Barry Lyndon","Bound for Glory","Close Encounters of the Third Kind","Days of Heaven","Apocalypse Now","Tess","Reds","Gandhi","Fanny and Alexander","The Killing Fields","Out of Africa","The Mission","The Last Emperor","Mississippi Burning","Glory","Dances with Wolves","JFK","A River Runs Through It","Schindler's List","Legends of the Fall","Braveheart","The English Patient","Titanic","Saving Private Ryan","American Beauty","Crouching Tiger, Hidden Dragon","The Lord of the Rings: The Fellowship of the Ring","Road to Perdition","Master and Commander: The Far Side of the World","The Aviator","Memoirs of a Geisha","Pan's Labyrinth","There Will Be Blood","Slumdog Millionaire","Avatar","Inception","Hugo","Life of Pi","Gravity","Birdman","The Revenant","La La Land","Blade Runner 2049","Roma","1917","Mank","Dune","All Quiet on the Western Front","Oppenheimer"];
        const bestFilmEditing = ["Patton","The French Connection","Cabaret","The Sting","The Towering Inferno","Jaws","Rocky","Star Wars","The Deer Hunter","All That Jazz","Raging Bull","Raiders of the Lost Ark","Gandhi","The Right Stuff","The Killing Fields","Witness","Platoon","The Last Emperor","Who Framed Roger Rabbit","Born on the Fourth of July","Dances with Wolves","JFK","Unforgiven","Schindler's List","Forrest Gump","Apollo 13","The English Patient","Titanic","Saving Private Ryan","The Matrix","Traffic","Black Hawk Down","Chicago","The Lord of the Rings: The Return of the King","The Aviator","Crash","The Departed","The Bourne Ultimatum","Slumdog Millionaire","The Hurt Locker","The Social Network","The Girl with the Dragon Tattoo","Argo","Gravity","Whiplash","Mad Max: Fury Road","Hacksaw Ridge","Dunkirk","Bohemian Rhapsody","Ford v Ferrari","Sound of Metal","Dune","Everything Everywhere All at Once","Oppenheimer"];
        const bestAnimatedFeature = ["Shrek","Spirited Away","Finding Nemo","The Incredibles","Wallace & Gromit: The Curse of the Were-Rabbit","Happy Feet","Ratatouille","WALL-E","Up","Toy Story 3","Rango","Brave","Frozen","Big Hero 6","Inside Out","Zootopia","Coco","Spider-Man: Into the Spider-Verse","Toy Story 4","Soul","Encanto","Guillermo del Toro's Pinocchio","The Boy and the Heron"];
        const bestInternationalFeature = ["Investigation of a Citizen Above Suspicion","The Garden of the Finzi-Continis","The Discreet Charm of the Bourgeoisie","Day for Night","Amarcord","Dersu Uzala","Black and White in Color","Madame Rosa","Get Out Your Handkerchiefs","The Tin Drum","Moscow Does Not Believe in Tears","Mephisto","Volver a Empezar","Fanny and Alexander","Dangerous Moves","The Official Story","The Assault","Babette's Feast","Pelle the Conqueror","Cinema Paradiso","Journey of Hope","Mediterraneo","Indochine","Belle Époque","Burnt by the Sun","Antonia's Line","Kolya","Character","Life Is Beautiful","All About My Mother","Crouching Tiger, Hidden Dragon","No Man's Land","Nowhere in Africa","The Barbarian Invasions","The Sea Inside","Tsotsi","The Lives of Others","The Counterfeiters","Departures","The Secret in Their Eyes","In a Better World","A Separation","Amour","The Great Beauty","Ida","Son of Saul","The Salesman","A Fantastic Woman","Roma","Parasite","Another Round","Drive My Car","All Quiet on the Western Front","The Zone of Interest"];
        const bestDocumentaryFeature = ["Woodstock","The Hellstrom Chronicle","Marjoe","The Great American Cowboy","Hearts and Minds","The Man Who Skied Down Everest","Harlan County U.S.A.","Who Are the DeBolts? And Where Did They Get Nineteen Kids?","Scared Straight!","Best Boy","From Mao to Mozart: Isaac Stern in China","Genocide","Just Another Missing Kid","He Makes Me Feel Like Dancin'","The Times of Harvey Milk","Broken Rainbow","Artie Shaw: Time Is All You've Got","The Ten-Year Lunch: The Wit and Legend of the Algonquin Round Table","Hotel Terminus: The Life and Times of Klaus Barbie","Common Threads: Stories from the Quilt","American Dream","In the Shadow of the Stars","The Panama Deception","I Am a Promise: The Children of Stanton Elementary School","Maya Lin: A Strong Clear Vision","Anne Frank Remembered","When We Were Kings","The Long Way Home","The Last Days","One Day in September","Into the Arms of Strangers: Stories of the Kindertransport","Murder on a Sunday Morning","Bowling for Columbine","The Fog of War","Born into Brothels","March of the Penguins","An Inconvenient Truth","Taxi to the Dark Side","Man on Wire","The Cove","Inside Job","Undefeated","Searching for Sugar Man","20 Feet from Stardom","Citizenfour","Amy","O.J.: Made in America","Icarus","Free Solo","American Factory","My Octopus Teacher","Summer of Soul","Navalny","20 Days in Mariupol"];

        function MoviePicker() {
            const [state, setState] = useState({
                page: 'home', menuOpen: false, oscarFilter: 'all', shuffledMovies: [], currentIndex: 0, details: {},
                loading: true, loadingMsg: 'Finding movies...', loadingMsgKey: 0, loadingStartTime: Date.now(),
                trailer: null, watched: [], watchedDates: {}, wishlistDates: {}, wishlistOnly: false,
                wishlist: ["Scarface","Boogie Nights","Fargo","Raising Arizona","Norma Rae","My Life as a Dog","A River Runs Through It","Erin Brockovich","What's Eating Gilbert Grape","American Graffiti","Chinatown","One Flew Over the Cuckoo's Nest","Taxi Driver","Juno","Chariots of Fire","Psycho","Fried Green Tomatoes","Brokeback Mountain","Walk the Line"]
            });
            const detailsRef = useRef({});
            const loadingMoviesRef = useRef(new Set());
            const touchStartX = useRef(0);
            const touchStartY = useRef(0);

            const allMovies = [...new Set([...state.wishlist,...bestPictureWinners,...bestPictureNominees,...bestDirector,...bestActor,...bestActress,...bestOriginalScreenplay,...bestAdaptedScreenplay,...bestCinematography,...bestFilmEditing,...bestAnimatedFeature,...bestInternationalFeature,...bestDocumentaryFeature])];

            const getUnwatchedMovies = useCallback(() => allMovies.filter(m => !state.watched.includes(m)), [state.watched]);
            const getFilteredMovies = useCallback(() => {
                const unwatched = getUnwatchedMovies();
                return state.wishlistOnly ? unwatched.filter(m => state.wishlist.includes(m)) : unwatched;
            }, [state.wishlistOnly, state.watched]);

            useEffect(() => {
                const dates = {};
                state.wishlist.forEach((movie, i) => { dates[movie] = new Date(Date.now() - (state.wishlist.length - i) * 86400000).toISOString(); });
                setState(s => ({...s, wishlistDates: dates}));
            }, []);

            const getCategories = (movie) => {
                const cats = [];
                if (state.wishlist.includes(movie)) cats.push('Wishlist');
                if (bestPictureWinners.includes(movie)) cats.push('Best Picture');
                if (bestDirector.includes(movie) && !bestPictureWinners.includes(movie)) cats.push('Best Director');
                if (bestActor.includes(movie)) cats.push('Best Actor');
                if (bestActress.includes(movie)) cats.push('Best Actress');
                if (bestOriginalScreenplay.includes(movie) && !bestPictureWinners.includes(movie)) cats.push('Original Screenplay');
                if (bestAdaptedScreenplay.includes(movie) && !bestPictureWinners.includes(movie)) cats.push('Adapted Screenplay');
                if (bestCinematography.includes(movie) && !bestPictureWinners.includes(movie)) cats.push('Cinematography');
                if (bestFilmEditing.includes(movie) && !bestPictureWinners.includes(movie)) cats.push('Film Editing');
                if (bestAnimatedFeature.includes(movie)) cats.push('Animated Feature');
                if (bestInternationalFeature.includes(movie)) cats.push('International Feature');
                if (bestDocumentaryFeature.includes(movie)) cats.push('Documentary');
                if (bestPictureNominees.includes(movie) && !bestPictureWinners.includes(movie) && cats.length <= 1) cats.push('Best Picture Nominee');
                return cats;
            };

            const isInOscarMovies = (movie) => bestPictureWinners.includes(movie)||bestPictureNominees.includes(movie)||bestDirector.includes(movie)||bestActor.includes(movie)||bestActress.includes(movie)||bestOriginalScreenplay.includes(movie)||bestAdaptedScreenplay.includes(movie)||bestCinematography.includes(movie)||bestFilmEditing.includes(movie)||bestAnimatedFeature.includes(movie)||bestInternationalFeature.includes(movie)||bestDocumentaryFeature.includes(movie);

            const getOscarMovies = () => {
                const unwatched = (arr) => arr.filter(m => !state.watched.includes(m));
                const oscarMovies = allMovies.filter(m => isInOscarMovies(m) && !state.watched.includes(m));
                if (state.oscarFilter === 'all') return oscarMovies;
                const filters = {'best-picture':bestPictureWinners,'best-picture-nominee':bestPictureNominees,'best-director':bestDirector,'best-actor':bestActor,'best-actress':bestActress,'best-original-screenplay':bestOriginalScreenplay,'best-adapted-screenplay':bestAdaptedScreenplay,'best-cinematography':bestCinematography,'best-editing':bestFilmEditing,'best-animated':bestAnimatedFeature,'best-international':bestInternationalFeature,'best-documentary':bestDocumentaryFeature};
                return filters[state.oscarFilter] ? unwatched(filters[state.oscarFilter]) : oscarMovies;
            };

            const fetchMovieBatch = async (movies) => {
                const opts = {headers: {accept: 'application/json', Authorization: `Bearer ${TOKEN}`}};
                await Promise.all(movies.map(async (movie) => {
                    if (detailsRef.current[movie] || loadingMoviesRef.current.has(movie)) return;
                    loadingMoviesRef.current.add(movie);
                    try {
                        const searchRes = await fetch(`https://api.themoviedb.org/3/search/movie?query=${encodeURIComponent(movie)}&include_adult=false`, opts);
                        const searchData = await searchRes.json();
                        if (searchData.results?.length > 0) {
                            const id = searchData.results[0].id;
                            const [detailRes, creditRes, videoRes, watchRes, releaseRes] = await Promise.all([
                                fetch(`https://api.themoviedb.org/3/movie/${id}`, opts),
                                fetch(`https://api.themoviedb.org/3/movie/${id}/credits`, opts),
                                fetch(`https://api.themoviedb.org/3/movie/${id}/videos`, opts),
                                fetch(`https://api.themoviedb.org/3/movie/${id}/watch/providers`, opts),
                                fetch(`https://api.themoviedb.org/3/movie/${id}/release_dates`, opts)
                            ]);
                            const [movieData, creditData, videoData, watchData, releaseData] = await Promise.all([detailRes.json(), creditRes.json(), videoRes.json(), watchRes.json(), releaseRes.json()]);
                            const usRelease = releaseData.results?.find(r => r.iso_3166_1 === 'US');
                            const certification = usRelease?.release_dates?.find(d => d.certification)?.certification || '';
                            detailsRef.current[movie] = {...movieData, actors: creditData.cast?.slice(0,5).map(a=>a.name)||[], trailer: videoData.results?.find(v=>v.type==='Trailer'&&v.site==='YouTube')?.key, director: creditData.crew?.find(p=>p.job==='Director')?.name, editor: creditData.crew?.find(p=>p.job==='Editor')?.name, cinematographer: creditData.crew?.find(p=>p.department==='Camera'&&p.job==='Director of Photography')?.name, providers: watchData.results?.US, certification};
                        }
                    } catch(e) { console.error(`Error loading ${movie}:`, e); }
                }));
                setState(s => ({...s, details: {...detailsRef.current}}));
            };

            useEffect(() => {
                const loadData = async () => {
                    const filtered = getFilteredMovies();
                    const shuffled = [...filtered].sort(() => Math.random() - 0.5);
                    await fetchMovieBatch(shuffled.slice(0, 5));
                    const elapsed = Date.now() - state.loadingStartTime;
                    await new Promise(resolve => setTimeout(resolve, Math.max(0, 3000 - elapsed)));
                    setState(s => ({...s, shuffledMovies: shuffled, currentIndex: 0, loading: false}));
                    for (let i = 5; i < shuffled.length; i += 5) { await fetchMovieBatch(shuffled.slice(i, i + 5)); }
                };
                loadData();
            }, []);

            useEffect(() => {
                if (state.shuffledMovies.length > 0) fetchMovieBatch(state.shuffledMovies.slice(state.currentIndex, state.currentIndex + 5));
            }, [state.currentIndex, state.shuffledMovies]);

            const handleSwipe = (direction) => {
                if (direction === 'left' && state.currentIndex < state.shuffledMovies.length - 1) setState(s => ({...s, currentIndex: s.currentIndex + 1}));
                else if (direction === 'right' && state.currentIndex > 0) setState(s => ({...s, currentIndex: s.currentIndex - 1}));
            };
            const handleTouchStart = (e) => { touchStartX.current = e.touches[0].clientX; touchStartY.current = e.touches[0].clientY; };
            const handleTouchEnd = (e) => {
                const deltaX = touchStartX.current - e.changedTouches[0].clientX;
                const deltaY = Math.abs(touchStartY.current - e.changedTouches[0].clientY);
                if (Math.abs(deltaX) > 50 && Math.abs(deltaX) > deltaY) handleSwipe(deltaX > 0 ? 'left' : 'right');
            };
            const refreshSuggestions = () => {
                const filtered = getFilteredMovies();
                const shuffled = [...filtered].sort(() => Math.random() - 0.5);
                setState(s => ({...s, shuffledMovies: shuffled, currentIndex: 0}));
                fetchMovieBatch(shuffled.slice(0, 5));
            };
            const toggleWishlistOnly = () => {
                const newWishlistOnly = !state.wishlistOnly;
                const filtered = newWishlistOnly ? getUnwatchedMovies().filter(m => state.wishlist.includes(m)) : getUnwatchedMovies();
                const shuffled = [...filtered].sort(() => Math.random() - 0.5);
                setState(s => ({...s, wishlistOnly: newWishlistOnly, shuffledMovies: shuffled, currentIndex: 0}));
                fetchMovieBatch(shuffled.slice(0, 5));
            };
            const markAsWatched = (movie) => {
                const newWatched = [...state.watched, movie];
                const newShuffled = state.shuffledMovies.filter(m => m !== movie);
                setState(s => ({...s, watched: newWatched, watchedDates: {...s.watchedDates, [movie]: new Date().toISOString()}, shuffledMovies: newShuffled, currentIndex: Math.min(Math.max(0, s.currentIndex), newShuffled.length - 1)}));
            };
            const unmarkAsWatched = (movie) => setState(s => ({...s, watched: s.watched.filter(m => m !== movie), watchedDates: Object.fromEntries(Object.entries(s.watchedDates).filter(([k]) => k !== movie))}));
            const getYear = (movie) => { const d = state.details[movie]; return d?.release_date ? new Date(d.release_date).getFullYear() : null; };

            const MovieCard = ({movie}) => {
                const detail = state.details[movie];
                const categories = getCategories(movie);
                const isWatched = state.watched.includes(movie);
                const year = getYear(movie);
                const rating = detail?.vote_average?.toFixed(1);
                
                if (!detail) return (
                    <div className="max-w-md mx-auto px-4 py-6">
                        <div className="skeleton w-full aspect-[2/3] rounded-lg mb-4"></div>
                        <div className="skeleton h-6 w-3/4 rounded mb-2"></div>
                        <div className="skeleton h-4 w-1/3 rounded"></div>
                    </div>
                );
                
                return (
                    <div className="max-w-md mx-auto px-4 py-4">
                        {/* Poster */}
                        <div className="relative mb-4">
                            {detail.poster_path ? (
                                <img 
                                    src={`https://image.tmdb.org/t/p/w500${detail.poster_path}`} 
                                    alt={movie} 
                                    className="w-full rounded-lg"
                                />
                            ) : (
                                <div className="w-full aspect-[2/3] bg-zinc-800 rounded-lg flex items-center justify-center">
                                    <Film className="w-16 h-16 text-zinc-600"/>
                                </div>
                            )}
                            
                            {/* Rating badge */}
                            {rating && parseFloat(rating) > 0 && (
                                <div className="absolute top-3 left-3 bg-black/80 rounded px-2 py-1 flex items-center gap-1">
                                    <Star className="w-3.5 h-3.5 text-yellow-400"/>
                                    <span className="text-white text-sm font-medium">{rating}</span>
                                </div>
                            )}
                        </div>
                        
                        {/* Title & Year */}
                        <h1 className="text-white text-2xl font-bold mb-1">{detail.title}</h1>
                        <p className="text-zinc-400 text-sm mb-3">{year}</p>
                        
                        {/* Categories */}
                        {categories.length > 0 && (
                            <p className="text-yellow-500 text-sm font-medium mb-4">{categories.join(' • ')}</p>
                        )}
                        
                        {/* Meta row */}
                        <div className="flex items-center gap-4 text-zinc-400 text-sm mb-4">
                            {detail.runtime && (
                                <span className="flex items-center gap-1">
                                    <Clock className="w-4 h-4"/>
                                    {detail.runtime} min
                                </span>
                            )}
                            {detail.certification && (
                                <span className="px-2 py-0.5 border border-zinc-600 rounded text-xs">
                                    {detail.certification}
                                </span>
                            )}
                            {detail.genres && detail.genres.slice(0, 2).map((g, i) => (
                                <span key={i} className="text-zinc-500">{g.name}</span>
                            ))}
                        </div>
                        
                        {/* Streaming */}
                        {detail.providers && (detail.providers.flatrate?.length > 0 || detail.providers.rent?.length > 0) && (
                            <div className="flex flex-wrap gap-2 mb-4">
                                {detail.providers.flatrate?.slice(0, 3).map((p, i) => (
                                    <span key={i} className="text-xs bg-zinc-800 text-zinc-300 px-3 py-1.5 rounded-full">
                                        {p.provider_name}
                                    </span>
                                ))}
                                {detail.providers.rent?.slice(0, 2).map((p, i) => (
                                    <span key={i} className="text-xs bg-zinc-800 text-zinc-500 px-3 py-1.5 rounded-full">
                                        {p.provider_name}
                                    </span>
                                ))}
                            </div>
                        )}
                        
                        {/* Action buttons */}
                        <div className="flex gap-3 mb-6">
                            {detail.trailer && (
                                <button 
                                    onClick={() => setState(s => ({...s, trailer: detail.trailer}))} 
                                    className="flex-1 flex items-center justify-center gap-2 bg-rose-600 hover:bg-rose-700 text-white py-3 rounded-lg font-medium transition"
                                >
                                    <Play className="w-5 h-5"/>
                                    Trailer
                                </button>
                            )}
                            <button 
                                onClick={() => isWatched ? unmarkAsWatched(movie) : markAsWatched(movie)} 
                                className={`flex-1 flex items-center justify-center gap-2 py-3 rounded-lg font-medium transition border ${
                                    isWatched 
                                        ? 'bg-emerald-600 border-emerald-600 text-white' 
                                        : 'bg-transparent border-zinc-600 text-zinc-300 hover:border-zinc-500'
                                }`}
                            >
                                {isWatched ? <Check className="w-5 h-5"/> : <Eye className="w-5 h-5"/>}
                                Watched
                            </button>
                        </div>
                        
                        {/* Crew */}
                        <div className="space-y-2 text-sm mb-4">
                            {detail.director && (
                                <p><span className="text-zinc-500">Director:</span> <span className="text-zinc-300">{detail.director}</span></p>
                            )}
                            {detail.actors?.length > 0 && (
                                <p><span className="text-zinc-500">Cast:</span> <span className="text-zinc-300">{detail.actors.join(', ')}</span></p>
                            )}
                        </div>
                        
                        {/* Overview */}
                        {detail.overview && (
                            <p className="text-zinc-400 text-sm leading-relaxed">{detail.overview}</p>
                        )}
                    </div>
                );
            };

            const SmallCard = ({movie, onClick}) => {
                const detail = state.details[movie];
                const year = getYear(movie);
                const rating = detail?.vote_average?.toFixed(1);
                
                if (!detail) return (
                    <div className="bg-zinc-900 rounded-lg overflow-hidden">
                        <div className="skeleton w-full aspect-[2/3]"></div>
                    </div>
                );
                
                return (
                    <div onClick={onClick} className="bg-zinc-900 rounded-lg overflow-hidden cursor-pointer hover:ring-2 hover:ring-zinc-700 transition">
                        <div className="relative">
                            {detail.poster_path ? (
                                <img src={`https://image.tmdb.org/t/p/w300${detail.poster_path}`} alt={movie} className="w-full aspect-[2/3] object-cover"/>
                            ) : (
                                <div className="w-full aspect-[2/3] bg-zinc-800 flex items-center justify-center">
                                    <Film className="w-10 h-10 text-zinc-600"/>
                                </div>
                            )}
                            {rating && parseFloat(rating) > 0 && (
                                <div className="absolute top-2 left-2 bg-black/80 rounded px-1.5 py-0.5 flex items-center gap-1">
                                    <Star className="w-3 h-3 text-yellow-400"/>
                                    <span className="text-white text-xs">{rating}</span>
                                </div>
                            )}
                        </div>
                        <div className="p-3">
                            <h3 className="text-white text-sm font-medium leading-tight line-clamp-2">{detail.title}</h3>
                            {year && <p className="text-zinc-500 text-xs mt-1">{year}</p>}
                        </div>
                    </div>
                );
            };

            if (state.loading) return (
                <div className="min-h-screen bg-zinc-950 text-white flex items-center justify-center">
                    <div className="text-center">
                        <div className="flex gap-3 mb-8 justify-center">
                            <div className="w-16 h-24 bg-zinc-900 rounded-lg card-shuffle-1"></div>
                            <div className="w-16 h-24 bg-zinc-900 rounded-lg card-shuffle-2"></div>
                            <div className="w-16 h-24 bg-zinc-900 rounded-lg card-shuffle-3"></div>
                        </div>
                        <p className="text-zinc-400">{state.loadingMsg}</p>
                    </div>
                </div>
            );

            return (
                <div className="min-h-screen bg-zinc-950 text-white">
                    {/* Header */}
                    <header className="bg-zinc-900 sticky top-0 z-40 border-b border-zinc-800">
                        <div className="max-w-lg mx-auto px-4 py-3 flex items-center justify-between">
                            <div className="flex items-center gap-2">
                                <Film className="w-5 h-5 text-rose-500"/>
                                <h1 className="text-lg font-semibold">MoviePicker</h1>
                            </div>
                            <button onClick={() => setState(s => ({...s, menuOpen: true}))} className="p-2 hover:bg-zinc-800 rounded-lg transition">
                                <Menu className="w-5 h-5 text-zinc-400"/>
                            </button>
                        </div>
                    </header>

                    {state.page === 'home' && (
                        <div onTouchStart={handleTouchStart} onTouchEnd={handleTouchEnd}>
                            {/* Controls */}
                            <div className="max-w-md mx-auto px-4 pt-4 flex items-center justify-between">
                                <label className="flex items-center gap-2 cursor-pointer">
                                    <input 
                                        type="checkbox" 
                                        checked={state.wishlistOnly} 
                                        onChange={toggleWishlistOnly}
                                        className="w-4 h-4 rounded bg-zinc-800 border-zinc-600 text-rose-500 focus:ring-rose-500 focus:ring-offset-zinc-950"
                                    />
                                    <span className="text-sm text-zinc-400">Wishlist only</span>
                                </label>
                                
                                <button onClick={refreshSuggestions} className="flex items-center gap-1.5 text-zinc-400 hover:text-white text-sm transition">
                                    <RefreshCw className="w-4 h-4"/>
                                    Shuffle
                                </button>
                            </div>
                            
                            {state.shuffledMovies.length > 0 ? (
                                <>
                                    <MovieCard movie={state.shuffledMovies[state.currentIndex]}/>
                                    
                                    {/* Navigation */}
                                    <div className="max-w-md mx-auto px-4 pb-6 flex items-center justify-between">
                                        <button 
                                            onClick={() => handleSwipe('right')}
                                            disabled={state.currentIndex === 0}
                                            className={`flex items-center gap-1 text-sm ${state.currentIndex === 0 ? 'text-zinc-700' : 'text-zinc-400 hover:text-white'}`}
                                        >
                                            <ChevronLeft className="w-5 h-5"/>
                                            Prev
                                        </button>
                                        
                                        <span className="text-zinc-600 text-sm">
                                            {state.currentIndex + 1} of {state.shuffledMovies.length}
                                        </span>
                                        
                                        <button 
                                            onClick={() => handleSwipe('left')}
                                            disabled={state.currentIndex >= state.shuffledMovies.length - 1}
                                            className={`flex items-center gap-1 text-sm ${state.currentIndex >= state.shuffledMovies.length - 1 ? 'text-zinc-700' : 'text-zinc-400 hover:text-white'}`}
                                        >
                                            Next
                                            <ChevronRight className="w-5 h-5"/>
                                        </button>
                                    </div>
                                </>
                            ) : (
                                <div className="max-w-md mx-auto px-4 py-20 text-center">
                                    <Film className="w-16 h-16 text-zinc-700 mx-auto mb-4"/>
                                    <h2 className="text-xl font-semibold mb-2">No movies</h2>
                                    <p className="text-zinc-500">{state.wishlistOnly ? "Wishlist is empty" : "All watched!"}</p>
                                </div>
                            )}
                        </div>
                    )}

                    {state.page === 'wishlist' && (
                        <div className="max-w-2xl mx-auto px-4 py-6">
                            <div className="flex items-center gap-4 mb-6">
                                <button onClick={() => setState(s => ({...s, page: 'home'}))} className="text-zinc-400 hover:text-white">
                                    <ChevronLeft className="w-6 h-6"/>
                                </button>
                                <h2 className="text-xl font-bold">Wishlist</h2>
                                <span className="text-zinc-500 text-sm ml-auto">{state.wishlist.filter(m => !state.watched.includes(m)).length} movies</span>
                            </div>
                            <div className="grid grid-cols-3 gap-3">
                                {state.wishlist.filter(m => !state.watched.includes(m)).map((movie, i) => (
                                    <SmallCard key={i} movie={movie} onClick={() => setState(s => ({...s, page: 'home'}))}/>
                                ))}
                            </div>
                        </div>
                    )}

                    {state.page === 'oscar' && (
                        <div className="max-w-2xl mx-auto px-4 py-6">
                            <div className="flex items-center gap-4 mb-4">
                                <button onClick={() => setState(s => ({...s, page: 'home'}))} className="text-zinc-400 hover:text-white">
                                    <ChevronLeft className="w-6 h-6"/>
                                </button>
                                <h2 className="text-xl font-bold">Oscar Movies</h2>
                                <span className="text-zinc-500 text-sm ml-auto">{getOscarMovies().length}</span>
                            </div>
                            
                            <div className="flex flex-wrap gap-2 mb-6">
                                {[
                                    {key:'all',label:'All'},
                                    {key:'best-picture',label:'Best Picture'},
                                    {key:'best-picture-nominee',label:'BP Nominees'},
                                    {key:'best-director',label:'Director'},
                                    {key:'best-actor',label:'Actor'},
                                    {key:'best-actress',label:'Actress'},
                                    {key:'best-original-screenplay',label:'Original Screenplay'},
                                    {key:'best-adapted-screenplay',label:'Adapted Screenplay'},
                                    {key:'best-cinematography',label:'Cinematography'},
                                    {key:'best-editing',label:'Editing'},
                                    {key:'best-animated',label:'Animated'},
                                    {key:'best-international',label:'International'},
                                    {key:'best-documentary',label:'Documentary'},
                                ].map(f => (
                                    <button 
                                        key={f.key} 
                                        onClick={() => setState(s => ({...s, oscarFilter: f.key}))} 
                                        className={`px-3 py-1.5 rounded-full text-sm transition ${
                                            state.oscarFilter === f.key 
                                                ? 'bg-rose-600 text-white' 
                                                : 'bg-zinc-800 text-zinc-400 hover:bg-zinc-700'
                                        }`}
                                    >
                                        {f.label}
                                    </button>
                                ))}
                            </div>
                            
                            <div className="grid grid-cols-3 gap-3">
                                {getOscarMovies().sort((a,b) => {
                                    const aY = state.details[a]?.release_date ? new Date(state.details[a].release_date).getFullYear() : 0;
                                    const bY = state.details[b]?.release_date ? new Date(state.details[b].release_date).getFullYear() : 0;
                                    return bY - aY;
                                }).map((movie, i) => (
                                    <SmallCard key={i} movie={movie} onClick={() => setState(s => ({...s, page: 'home'}))}/>
                                ))}
                            </div>
                        </div>
                    )}

                    {state.page === 'watched' && (
                        <div className="max-w-2xl mx-auto px-4 py-6">
                            <div className="flex items-center gap-4 mb-6">
                                <button onClick={() => setState(s => ({...s, page: 'home'}))} className="text-zinc-400 hover:text-white">
                                    <ChevronLeft className="w-6 h-6"/>
                                </button>
                                <h2 className="text-xl font-bold">Watched</h2>
                                <span className="text-zinc-500 text-sm ml-auto">{state.watched.length}</span>
                            </div>
                            
                            {state.watched.length === 0 ? (
                                <div className="text-center py-16">
                                    <Eye className="w-12 h-12 text-zinc-700 mx-auto mb-4"/>
                                    <p className="text-zinc-500">No watched movies yet</p>
                                </div>
                            ) : (
                                <div className="grid grid-cols-3 gap-3">
                                    {[...state.watched].sort((a,b) => (state.watchedDates[b]||'').localeCompare(state.watchedDates[a]||'')).map((movie, i) => (
                                        <SmallCard key={i} movie={movie} onClick={() => {}}/>
                                    ))}
                                </div>
                            )}
                        </div>
                    )}

                    {/* Menu */}
                    {state.menuOpen && (
                        <div className="fixed inset-0 bg-black/80 z-50" onClick={() => setState(s => ({...s, menuOpen: false}))}>
                            <div className="absolute right-0 top-0 bottom-0 w-72 bg-zinc-900 p-4" onClick={e => e.stopPropagation()}>
                                <div className="flex justify-between items-center mb-6">
                                    <h3 className="text-lg font-bold">Menu</h3>
                                    <button onClick={() => setState(s => ({...s, menuOpen: false}))} className="p-2 hover:bg-zinc-800 rounded-lg">
                                        <X className="w-5 h-5 text-zinc-400"/>
                                    </button>
                                </div>
                                
                                <div className="space-y-1">
                                    <button onClick={() => setState(s => ({...s, page: 'wishlist', menuOpen: false}))} className="w-full text-left px-4 py-3 rounded-lg hover:bg-zinc-800 flex items-center justify-between">
                                        <span>Wishlist</span>
                                        <span className="text-zinc-500 text-sm">{state.wishlist.filter(m => !state.watched.includes(m)).length}</span>
                                    </button>
                                    <button onClick={() => setState(s => ({...s, page: 'oscar', menuOpen: false}))} className="w-full text-left px-4 py-3 rounded-lg hover:bg-zinc-800">
                                        Oscar Movies
                                    </button>
                                    <button onClick={() => setState(s => ({...s, page: 'watched', menuOpen: false}))} className="w-full text-left px-4 py-3 rounded-lg hover:bg-zinc-800 flex items-center justify-between">
                                        <span>Watched</span>
                                        <span className="text-zinc-500 text-sm">{state.watched.length}</span>
                                    </button>
                                </div>
                            </div>
                        </div>
                    )}

                    {/* Trailer */}
                    {state.trailer && (
                        <div className="fixed inset-0 bg-black/95 flex items-center justify-center z-50 p-4" onClick={() => setState(s => ({...s, trailer: null}))}>
                            <div className="relative w-full max-w-3xl" onClick={e => e.stopPropagation()}>
                                <button onClick={() => setState(s => ({...s, trailer: null}))} className="absolute -top-10 right-0 text-zinc-400 hover:text-white">
                                    <X className="w-8 h-8"/>
                                </button>
                                <div className="relative pt-[56.25%]">
                                    <iframe className="absolute inset-0 w-full h-full rounded-lg" src={`https://www.youtube.com/embed/${state.trailer}?autoplay=1`} title="Trailer" frameBorder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowFullScreen></iframe>
                                </div>
                            </div>
                        </div>
                    )}
                </div>
            );
        }
        ReactDOM.render(<MoviePicker />, document.getElementById('root'));
    </script>
</body>
</html>
